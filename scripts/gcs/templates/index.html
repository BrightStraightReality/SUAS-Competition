<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">

		<title>GCS: Web UI</title>

		<link href="rsc/icons/favicon.ico" rel="icon" type="image/x-icon">

		<meta name="description" content="">
		<meta name="author" content="James Villemarette">
		<meta name="software" content="custom">

		<meta name="creativity" content="">

		<script src="rsc/js/jquery-3.2.1.min.js"></script>

		<!-- Image Area Select for Manual Target Submission -->
		<link rel="stylesheet" type="text/css" href="rsc/libs/jquery.imgareaselect-0.9.10/css/imgareaselect-default.css" />
		<script src="rsc/libs/jquery.imgareaselect-0.9.10/scripts/jquery.imgareaselect.pack.js"></script>

		<!-- Material Components -->
		<link rel="stylesheet" type="text/css" href="rsc/css/materialize.min.css">
		<script src="rsc/js/materialize.min.js"></script>

		<!-- Font Awesome Icons -->
		<link rel="stylesheet" href="rsc/fonts/font-awesome-4.7.0/css/font-awesome.min.css">

		<!-- Custom Styling and Scripting -->
		<link rel="stylesheet" href="rsc/css/main.css">
		<script src="rsc/js/main.js"></script>

		<!--[if lt IE 9]>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
		<![endif]-->
	</head>
	<body>
		<!-- Verification Modal -->
		<div id="verification" class="modal">
			<div class="modal-content">
				<h4>Image Submission Verification</h4>
				<p>Are you sure that you want to submit this image? Look it over before you press submit.</p>
				<div class="row" style="margin-bottom:-90px;">
					<div class="col s6">
						<h5 style="margin-top:0;">Crop Preview</h5>
						<div id="crop-previewer"></div>
					</div>
					<div class="col s6" id="crop-detail-panel">
						<div class="special-container grey lighten-2">
							<h5 style="margin-top:0;">Crop Details</h5>
							<table>
								<col width="45%">
								<col width="55%">

								<thead>
									<tr>
										<th>Field Name</th>
										<th>Value</th>
									</tr>
								</thead>

								<tbody>
									<tr>
										<td>Filename</td>
										<td><span id="preview-filename"><i>unknown</i>.jpg</span></td>
									</tr>
									<tr>
										<td>Top Left Point<br>(x1, y1)</td>
										<td>
											[<span id="preview-x1">0</span>, <span id="preview-y1">0</span>]
										</td>
									</tr>
									<tr>
										<td>Bottom Right Point<br>(x2, y2)</td>
										<td>
											[<span id="preview-x2">0</span>, <span id="preview-y2">0</span>]
										</td>
									</tr>
									<tr>
										<td><i>Extrusion</i></td>
										<td>
											<span id="preview-extrusion">0</span> pixels
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<a class="waves-effect waves-light btn left red" onclick="$('#verification').modal('close');">Cancel</a>
				<a href="#!" onclick="submitTarget();" class="modal-action modal-close waves-effect waves-green btn-flat">Submit</a>
			</div>
		</div>

		<!-- About Modal -->
		<div id="about" class="modal">
			<div class="modal-content">
				<h3>About Page</h4>
				<p>
					This modal gives you a simple explanation and breakdown of the two main components of the GCS:WEBui, the Control Panel and the Manual Target Submission. This site, itself, is used by the Flint Hill Animus Ferus team for the AUVSI SUAS competition in Maryland. This page should be displayed on the Ground Control Station laptop.
				</p>
				<hr style="margin-bottom:1em">
				<h4>Control Panel</h4>
				<p>
					The control panel slide is to let us view and/or control our subproccesses, the Interoperability connection (to the competition server), SDA (Sense, Detect, and Avoid,) and Image Processing. From the panes, you can see the status, runtime, and the power on/off buttons for SDA and Image Processing. From the Interop. pane, you can the status, and position of the single targets, such as off-axis, emergent, and airdrop.
				</p>
				<p>
					<b>The controls</b> for the control panel are not difficult or extensive. There is only the simple power on/off power buttons for SDA and Image Processing. When a power button is red, clicking it means that you will turn it off. And when a power button is greed, clicking it means that you will it on
				</p>
				<p>
					A demo of these buttons can be seen below:
				</p>
				<div class="row">
					<div class="col s6">
						<a class="waves-effect waves-light btn power-button tooltipped green center" data-position="bototm" data-tooltip="This would turn on a subprocess" href="#" style="margin:0 auto; display:block">
							<i class="fa fa-power-off" aria-hidden="true"></i>
						</a>
					</div>
					<div class="col s6">
						<a class="waves-effect waves-light btn power-button tooltipped red center" data-position="bottom" data-tooltip="This would turn off a subprocess" href="#" style="margin:0 auto; display:block;">
							<i class="fa fa-power-off" aria-hidden="true"></i>
						</a>
					</div>
				</div>
				<hr style="margin-bottom:1em">
				<h4>Manual Target Submission</h4>
				<p>
					The manual target submitter (abbreviated MTS) slide is a far more complex slide than the control panel one. As the name states, this slide allows us to manual crop and submit ground targets to the Interoperability server. You will notice that the subprocess Image Processing exists on the Control Panel. In the event that we do not complete autonomous Image Processing before the competition, or for any other related reason, we will use MTS to submit the targets. We also plan to use MTS in conjunction with autonomous Image Processing, as there is no point penalty for it.
				</p>
				<h5>The Controls</h5>
				<p>
					The controls are, clearly, more complex, but they have simplified as much as possible in order to be immediately accessible to those that have not previously operated the MTS, as it might be necessary for the competition. 
				</p>
				<h5><i>The Toolbar</i></h5>
				<p>
					Here is the toolbar as it appears on the Image Processing slide:
				</p>
				<div class="special-container grey lighten-2">
					<div class="row" style="margin-bottom:0">
						<div class="col s8">
							<a class="waves-effect waves-light btn tooltipped" name="load-images-button" data-position="right" data-tooltip="Command + Up" href="#">
								<i class="fa fa-upload left"></i> load images
							</a>
							<a class="waves-effect waves-light btn green disabled tooltipped" name="crop-and-submit-button" data-position="right" data-delay="800" data-tooltip="Command + Enter" href="#">
								<i class="fa fa-sign-in left"></i> crop and submit
							</a>
						</div>
						<div class="col s4">
							<div class="right">
								<a class="waves-effect waves-light btn tooltipped light-blue disabled" name="left-button" data-position="left" data-delay="760" data-tooltip="Command + Left" href="#">
									<i class="fa fa-arrow-left"></i>
								</a>
								<a class="waves-effect waves-light btn tooltipped light-blue disabled" name="right-button" data-position="left" data-delay="760" data-tooltip="Command + Right" href="#">
									<i class="fa fa-arrow-right"></i>
								</a>
							</div>
						</div>
					</div>
				</div>
				<p>
					Notice that the &nbsp;<code><i class="fa fa-sign-in"></i> Crop and Submit</code>, <i class="fa fa-arrow-left"></i>, and <i class="fa fa-arrow-right"></i> buttons are disabled. These buttons are disabled because Crop and Submit requires that a crop be selected on an image, and the <i class="fa fa-arrow-left"></i> and <i class="fa fa-arrow-right"></i> arrow buttons are for selecting between images. But, since no images are loaded by default on startup, these buttons are not clickable.
				</p>
				<p>
					The buttons being disabled also, by design, teaches the user to press the &nbsp;<code><i class="fa fa-upload"></i> Load Images</code> to retrieve new images if new images are taken by the drone.
				</p>
				<p>
					Here is what the toolbar looks like without any of the buttons being disabled:
				</p>
				<div class="special-container grey lighten-2">
					<div class="row" style="margin-bottom:0">
						<div class="col s8">
							<a class="waves-effect waves-light btn tooltipped" name="load-images-button" data-position="right" data-tooltip="Command + Up" href="#">
								<i class="fa fa-upload left"></i> load images
							</a>
							<a class="waves-effect waves-light btn green tooltipped" name="crop-and-submit-button" data-position="right" data-delay="800" data-tooltip="Command + Enter" href="#">
								<i class="fa fa-sign-in left"></i> crop and submit
							</a>
						</div>
						<div class="col s4">
							<div class="right">
								<a class="waves-effect waves-light btn tooltipped light-blue" name="left-button" data-position="left" data-delay="760" data-tooltip="Command + Left" href="#">
									<i class="fa fa-arrow-left"></i>
								</a>
								<a class="waves-effect waves-light btn tooltipped light-blue" name="right-button" data-position="left" data-delay="760" data-tooltip="Command + Right" href="#">
									<i class="fa fa-arrow-right"></i>
								</a>
							</div>
						</div>
					</div>
				</div>
				<p>Here is formal breakdown of the buttons:</p>
				<ul class="collection">
					<li class="collection-item">
						<a class="waves-effect waves-light btn tooltipped" name="load-images-button" data-position="right" data-tooltip="Command + Up" href="#">
							<i class="fa fa-upload left"></i> load images
						</a>
						<p style="margin-bottom:0">
							Press to load images. If new ones are being taken and made available, then clicking load images will maintain your current index, and simply add the new images to the ones available. If the new list of images is shorter than your current image index (because images have been deleted,) then your current image index will reset to zero.
						</p>
					</li>
					<li class="collection-item">
						<a class="waves-effect waves-light btn green modal-trigger tooltipped" name="crop-and-submit-button" data-position="right" data-delay="800" data-tooltip="Command + Enter" href="#verification" href="#">
							<i class="fa fa-sign-in left"></i> crop and submit
						</a>
						<p style="margin-bottom:0">
							This button becomes clickable once you have created a crop on the image. This opens up a modal which lets you verify the cropped target before finally submitting.
						</p>
					</li>
					<li class="collection-item">
						<a class="waves-effect waves-light btn tooltipped light-blue" name="left-button" data-position="left" data-delay="760" data-tooltip="Command + Left" href="#">
							<i class="fa fa-arrow-left"></i>
						</a>
						<p style="margin-bottom:0">
							Decrease current image index by one. Only selectable if your current image index does not equal zero.
						</p>
					</li>
					<li class="collection-item">
						<a class="waves-effect waves-light btn tooltipped light-blue" name="right-button" data-position="left" data-delay="760" data-tooltip="Command + Right" href="#">
							<i class="fa fa-arrow-right"></i>
						</a>
						<p style="margin-bottom:0">
							Increase current image index by one. Only selectable if your current image index does not equal the total number of available images.
						</p>
					</li>
				</ul>
				<h5 style="margin-top:1em"><i>The Specification's Pane</i></h5>
				<p>
					It's imperative that the target's description be accurate. To accomplish this, there is the specification's pane that allows you to input the details of the target.
				</p>
				<div class="row">
					<div class="col s6">
						<div class="special-container white lighten-4">
							<h5 style="margin-top:0">Specifications</h5>
							<select>
								<option value="" selected>Shape&nbsp;</option>
								<option value="circle">Circle</option>
								<option value="cross">Cross</option>
								<option value="heptagon">Heptagon</option>
								<option value="hexagon">Hexagon</option>
								<option value="octagon">Octagon</option>
								<option value="pentagon">Pentagon</option>
								<option value="quarter_circle">Quarter circle</option>
								<option value="rectangle">Rectangle</option>
								<option value="semicircle">Semicircle</option>
								<option value="square">Square</option>
								<option value="star">Star</option>
								<option value="trapezoid">Trapezoid</option>
								<option value="triangle">Triangle</option>
							</select>
							<select style="margin-bottom:4em">
								<option value="" selected>Shape Color&nbsp;</option>
								<option value="red">Red</option>
								<option value="orange">Orange</option>
								<option value="yellow">Yellow</option>
								<option value="green">Green</option>
								<option value="blue">Blue</option>
								<option value="indigo">Indigo</option>
								<option value="violet">Violet</option>
								<option value="white">White</option>
							</select>
							<div class="input-field input-text-fix">
								<input placeholder="A letter or number" type="text" class="validate">
								<label for="first_name">Alphanumeric Content&nbsp;</label>
							</div>
							<select name="color">
								<option value="" selected>Alphanumeric Color&nbsp;</option>
								<option class="red-text" value="red">Red</option>
								<option value="orange">Orange</option>
								<option value="yellow">Yellow</option>
								<option value="green">Green</option>
								<option value="blue">Blue</option>
								<option value="indigo">Indigo</option>
								<option value="violet">Violet</option>
								<option value="white">White</option>
							</select>
							<select name="orientation">
								<option value="" selected>Orientation&nbsp;</option>
								<option value="N">North</option>
								<option value="NE">North-East</option>
								<option value="E">East</option>
								<option value="SE">South-East</option>
								<option value="S">South</option>
								<option value="SW">South-West</option>
								<option value="W">West</option>
								<option value="NW">North-West</option>
							</select>
						</div>
					</div>
					<div class="col s6">
						<ul class="collection">
							<li class="collection-item">
								<b>Shape:</b> The target's shape.
							</li>
							<li class="collection-item">
								<b>Shape Color:</b> The target's background color.
							</li>
							<li class="collection-item">
								<b>Alphanumeric Content:</b> The single alphanumeric symbol that appears (A-Z, 0-9).
							</li>
							<li class="collection-item">
								<b>Alphanumeric Color:</b> The color of the alphanumeric symbol, itself.
							</li>
							<li class="collection-item">
								<b>Orientation:</b> What cardinal map direction that the symbol is parallel with. For example, this text here, if it appeared on an image, as is, this would be considered "North."
							</li>
						</ul>
					</div>
				</div>
				<p>
					The details of the cropped target do not appear in the Image Submission Verification modal, as there is not enough space screen space in the modal. You can, however, click out of the modal, and compare the crop preview in the modal with the details of the target that you specificied in the specification pane. 
				</p>
			</div>
			<div class="modal-footer">
				<a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Exit</a>
			</div>
		</div>

		<!-- Navbar -->
		<nav>
			<div class="nav-wrapper purple darken-1">
				<a href="#" class="brand-logo">&nbsp;&nbsp;Ground Control Station</a>
				<ul id="nav-mobile" class="right hide-on-med-and-down" style="height:64px;">
					<li>
						<a class="modal-trigger" href="#about">
							<i class="fa fa-question-circle fa-2x" aria-hidden="true" style="line-height:60px"></i>
						</a>
					</li>
					<li>
						<a href="https://google.com/">
							<i class="fa fa-close fa-2x" aria-hidden="true" style="line-height:60px"></i>
						</a>
					</li>
				</ul>
				
			</div>
		</nav>
		<ul id="tabs-swipe-demo" class="tabs grey lighten-5">
			<li class="tab col s3">
				<a href="#test-swipe-1" onclick="statusGet()">
					<i class="fa fa-home fa-2x home-button-pos-fix" aria-hidden="true"></i>
				</a>
			</li>
			<li class="tab col s3"><a class="active" href="#test-swipe-2">Manual Target Submission</a></li>
		</ul>

		<!-- Slide 1: Control Panel -->
		<div id="test-swipe-1" class="col s12">
			<div class="container">
				<h3>
					Control Panel
					<a class="waves-effect waves-light btn power-button right tooltipped" style="margin-top:4px;" data-position="left" data-delay="50" data-tooltip="Enable automatic status refresh (1hz)" onclick="switchControlPanelRefresh()">
						<i class="fa fa-refresh" id="switch-control-panel-icon" aria-hidden="true"></i>
					</a>
				</h3>
				<div class="row">
					<div class="col s4">
						<div class="special-container grey lighten-3 z-depth-1">
							<div id="interop-light" class="special-container red lighten-2">
								<p class="center white-text no-margins">
									<b id="interop-light-text">Disconnected</b>
								</p>
							</div>
							<div class="power-button-parent">
								<h5 style="margin-top:0">Interop. Connection</h5>
								<table>
									<col width="25%">
									<col width="75%">

									<thead>
										<tr>
											<th>Property</th>
											<th>Value</th>
										</tr>
									</thead>

									<tbody>
										<tr>
											<td>Status</td>
											<td id="interop-status"><i>Unknown</i></td>
										</tr>
										<tr>
											<td>Emergent position</td>
											<td id="interop-emergent_position">
												[0.0, 0.0]
											</td>
										</tr>
										<tr>
											<td>Airdrop position</td>
											<td id="interop-airdrop_position">
												[0.0, 0.0]
											</td>
										</tr>
										<tr>
											<td>Off-axis position</td>
											<td id="interop-off-axis_position">
												[0.0, 0.0]
											</td>
									</tbody>
								</table>
							</div>
						</div>
					</div>
					<div class="col s4">
						<div class="special-container grey lighten-3 z-depth-1">
							<div id="sda-light" class="special-container red lighten-2" id="status-sda">
								<p class="center white-text no-margins">
									<b id="sda-light-text">Disconnected</b>
								</p>
							</div>
							<div class="power-button-parent">
								<div class="power-button-anchor">
									<a id="sda-power-button" class="waves-effect waves-light btn power-button tooltipped green" data-position="left" data-tooltip="Turn off/on" onclick="statusPush('sda', 'on')">
										<i class="fa fa-power-off" aria-hidden="true"></i>
									</a>
								</div>
								<h5 style="margin-top:0">SDA</h5>
								<table>
									<col width="25%">
									<col width="75%">

									<thead>
										<tr>
											<th>Property</th>
											<th>Value</th>
										</tr>
									</thead>

									<tbody>
										<tr>
											<td>Status</td>
											<td id="sda-status"><i>Unknown</i></td>
										</tr>
										<tr>
											<td>Runtime</td>
											<td id="sda-runtime">
												0 mins, 0 secs
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
					<div class="col s4">
						<div class="special-container grey lighten-3 z-depth-1">
							<div id="img_proc-light" class="special-container red lighten-2" id="status-image-processing">
								<p class="center white-text no-margins">
									<b id="img_proc-light-text">Disconnected</b>
								</p>
							</div>
							<div class="power-button-parent">
								<div class="power-button-anchor">
									<a id="img_proc-power-button" class="waves-effect waves-light btn power-button tooltipped green" data-position="left" data-tooltip="Turn off/on" onclick="statusPush('img_proc', 'on')">
										<i class="fa fa-power-off" aria-hidden="true"></i>
									</a>
								</div>
								<h5 style="margin-top:0">Image Processing</h5>
								<table>
									<col width="25%">
									<col width="75%">

									<thead>
										<tr>
											<th>Property</th>
											<th>Value</th>
										</tr>
									</thead>

									<tbody>
										<tr>
											<td>Status</td>
											<td id="img_proc-status"><i>Unknown</i></td>
										</tr>
										<tr>
											<td>Runtime</td>
											<td id="img_proc-runtime">
												0 mins, 0 secs
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
				<hr>
				<p class="grey-text">v0.1 /// Flinthill SUAS /// Last modified: October 23rd, 2017</p>
			</div>
		</div>

		<!-- Slide 2: Image Preview and Cropper -->
		<div id="test-swipe-2" class="col s12">
			<div class="row">
				<div class="col s1"></div>
				<div class="col s10 noselect">
					<div class="row no-margins">
						<div class="col s6">
							<h3>Image Preview and Cropper</h3>
						</div>
						<div class="col s6">
							<h5 class="right grey-text counter-fix">
								(<span id="current-image">?</span>/<span id="total-images">?</span>) images<br>
								<span id="zoom-level">1</span>x zoom level
							</h5>
						</div>
					</div>
					
					<div class="special-container grey lighten-2">
						<div class="row" style="margin-bottom:0">
							<div class="col s8">
								<a class="waves-effect waves-light btn tooltipped" name="load-images-button" data-position="right" data-tooltip="Command + Up" onclick="loadImages()">
									<i class="fa fa-upload left"></i> load images
								</a>
								<a class="waves-effect waves-light btn green modal-trigger disabled tooltipped" name="crop-and-submit-button" data-position="right" data-delay="800" data-tooltip="Command + Enter" href="#verification" onclick="loadCropPreview()">
									<i class="fa fa-sign-in left"></i> crop and submit
								</a>
							</div>
							<div class="col s4">
								<div class="right">
									<a class="waves-effect waves-light btn tooltipped light-blue disabled" name="left-button" data-position="left" data-delay="760" data-tooltip="Command + Left" onclick="imageSelect('left')">
										<i class="fa fa-arrow-left"></i>
									</a>
									<a class="waves-effect waves-light btn tooltipped light-blue disabled" name="right-button" data-position="left" data-delay="760" data-tooltip="Command + Right" onclick="imageSelect('right')">
										<i class="fa fa-arrow-right"></i>
									</a>
								</div>
							</div>
						</div>
					</div>
					<div class="special-container grey lighten-3">
						<div class="row" id="image-previewer-parent-container">
							<div class="col s9" id="image-previewer-container">
								<!-- Image Previewer -->
								<a class="waves-effect waves-light btn tooltipped disabled" style="position:absolute" id="size-lock-button" data-position="right" data-tooltip="Lock height of image to height of box: Command + L" onclick="switchImageHeightLock()">
									<i class="fa fa-lock" id="size-lock-icon" aria-hidden="true"></i>
								</a>
								<img id="image-previewer" src="">
							</div>
							<div class="col s3">
								<div class="special-container white lighten-4">
									<h5 style="margin-top:0">Specifications</h5>
									<select id="target-shape">
										<option value="" disabled selected>Shape</option>
										<option value="circle">Circle</option>
										<option value="cross">Cross</option>
										<option value="heptagon">Heptagon</option>
										<option value="hexagon">Hexagon</option>
										<option value="octagon">Octagon</option>
										<option value="pentagon">Pentagon</option>
										<option value="quarter_circle">Quarter circle</option>
										<option value="rectangle">Rectangle</option>
										<option value="semicircle">Semicircle</option>
										<option value="square">Square</option>
										<option value="star">Star</option>
										<option value="trapezoid">Trapezoid</option>
										<option value="triangle">Triangle</option>
									</select>
									<select id="target-color" style="margin-bottom:4em">
										<option value="" disabled selected>Shape Color</option>
										<option class="red-text" value="red">Red</option>
										<option value="orange">Orange</option>
										<option value="yellow">Yellow</option>
										<option value="green">Green</option>
										<option value="blue">Blue</option>
										<option value="indigo">Indigo</option>
										<option value="violet">Violet</option>
										<option value="white">White</option>
									</select>
									<div class="input-field input-text-fix">
										<input placeholder="A letter or number" id="target-content" type="text" class="validate">
										<label for="first_name">Alphanumeric Content</label>
									</div>
									<select id="content-color" name="color">
										<option value="" disabled selected>Alphanumeric Color</option>
										<option class="red-text" value="red">Red</option>
										<option value="orange">Orange</option>
										<option value="yellow">Yellow</option>
										<option value="green">Green</option>
										<option value="blue">Blue</option>
										<option value="indigo">Indigo</option>
										<option value="violet">Violet</option>
										<option value="white">White</option>
									</select>
									<select id="target-orientation" name="orientation">
										<option value="" disabled selected>Orientation</option>
										<option value="N">North</option>
										<option value="NE">North-East</option>
										<option value="E">East</option>
										<option value="SE">South-East</option>
										<option value="S">South</option>
										<option value="SW">South-West</option>
										<option value="W">West</option>
										<option value="NW">North-West</option>
									</select>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col s1"></div>
			</div>
		</div>
	</body>
</html>

